{"version":3,"sources":["../../src/js/table.js"],"names":["Table","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","Selector","DATA_TOGGLE","PAGE_TOGGLE","Default","url","page","size","total","draw","fields","caption","method","pageTpl","pageNum","DefaultType","ClassName","TABLE","ROW","ROW_SELECTED","TABLE_CELL","TABLE_FOOTER","Event","CLICK_PAGE","container","element","config","_config","_getConfig","_element","_isShown","_container","_rows","_headers","that","footerDiv","document","createElement","className","appendChild","on","data","_getData","_drawBody","_drawPage","dispose","toggle","html","lastPage","Math","ceil","currentPage","parseInt","delta","left","right","currentPageHtml","prevPage","nextPage","leftStop","rightStop","console","log","find","empty","removeClass","addClass","length","each","i","d","row","j","h","cell","Util","typeCheckConfig","callback","split","col","push","ajax","type","max","success","rows","r","p","call","cells","$e","rs","_jQueryInterface","relatedTarget","TypeError","ready","$element","target","selector","getSelectorFromElement","Constructor","noConflict"],"mappings":"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","file":"table.js","sourcesContent":["import $ from 'jquery';\nimport Util from './util';\n\nconst Table = (($) => {\n    const NAME                = 'table';\n    const VERSION             = '4.0.0';\n    const DATA_KEY            = 'tui.table';\n    const EVENT_KEY           = `.${DATA_KEY}`;\n    const DATA_API_KEY        = '.data-api';\n    const JQUERY_NO_CONFLICT  = $.fn[NAME];\n\n    const Selector = {\n        DATA_TOGGLE          : '[data-toggle=\"tui-table\"]',\n        PAGE_TOGGLE          : '[data-toggle=\"tui-table-page\"]',\n    };\n\n    const Default = {\n        url          : '',\n        page         : false,\n        size         : false,\n        total        : false,\n        draw         : true,\n        fields       : '',\n        caption      : '',\n        method       : 'get',\n        pageTpl      : '翻页',\n        pageNum      : 7,\n    };\n\n    const DefaultType = {\n        url      : 'string',\n        page     : '(boolean|number)',\n        size     : '(boolean|number)',\n        total    : '(boolean|number)',\n        draw     : 'boolean',\n        fields   : 'string',\n        caption  : 'string',\n        method   : 'string',\n        pageTpl  : 'string',\n        pageNum  : 'number',\n    };\n\n    const ClassName = {\n        TABLE        : 'tui-table',\n        ROW          : 'tui-table-row',\n        ROW_SELECTED : 'tui-table-row-selected',\n        TABLE_CELL   : 'tui-table-cell text-truncate',\n        TABLE_FOOTER : 'tui-table-footer',\n    };\n\n    const Event = {\n        CLICK_PAGE     : `click.page${EVENT_KEY}`,\n    };\n\n    class Table {\n        constructor(container, element, config) {\n            this._config                = this._getConfig(config);\n            this._element               = element;\n            this._isShown               = false;\n            this._container             = container;\n            this._rows                  = [];\n            this._headers               = [];\n            if (this._config.pageNum % 2 === 0) {\n                this._config.pageNum += 1;\n            }\n\n            let that = this;\n\n            // 创建footer\n            let footerDiv = document.createElement('div');\n            footerDiv.className = ClassName.TABLE_FOOTER;\n            this._container.appendChild(footerDiv);\n            // 分页\n            $(this._container).on(Event.CLICK_PAGE, Selector.PAGE_TOGGLE, function () {\n                that._config.page = $(this).data('page');\n                that._getData(function () {\n                    that._drawBody();\n                    that._drawPage();\n                });\n            });\n        }\n\n        dispose() {\n            this._config = null;\n            this._element = null;\n            this._container = null;\n            this._isShown = null;\n            this._headers = null;\n            this._rows = null;\n        }\n\n        // Getters\n\n        static get VERSION() {\n            return VERSION;\n        }\n\n        static get Default() {\n            return Default;\n        }\n\n        // Public\n\n\n        toggle() {\n            let that = this;\n            this._getData(function () {\n                that._drawBody();\n                that._drawPage();\n            });\n        }\n\n\n        // Private\n\n        _drawPage() {\n            let html = '';\n            html += '<div class=\"tui-table-pagination\"><nav aria-label=\"Page navigation\"><ul class=\"tui-table-pager\">';\n            html += '<li>' + this._config.pageTpl + '</li>';\n            html += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"1\" aria-label=\"Previous\"><span aria-hidden=\"true\">&laquo;</span><span class=\"sr-only\">First</span></a></li>'\n            let lastPage = Math.ceil(this._config.total / this._config.size);\n            let currentPage = parseInt(this._config.page);\n            let delta = (parseInt(this._config.pageNum) - 1) / 2;\n            let left = 0;\n            let right = 0;\n\n\n            let currentPageHtml = '<li><a class=\"active\" href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + currentPage + '\">' + currentPage + '</a></li>';\n\n            let prevPage = parseInt(currentPage) - 1;\n            let nextPage = parseInt(currentPage) + 1;\n\n            let leftStop = false;\n            let rightStop = false;\n\n            while (left < delta && right < delta) {\n                console.log('left:' + left, 'prevPage:' + prevPage);\n                if (!leftStop) {\n                    if (prevPage > 1) {\n                        currentPageHtml = '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + prevPage + '\">' + prevPage + '</a></li>' + currentPageHtml;\n                        prevPage -= 1;\n                        left += 1;\n                    } else if (left < delta) {\n                        right -= delta - left;\n                        leftStop = true;\n                    }\n                }\n                if (!rightStop) {\n                    if (nextPage < lastPage) {\n                        right += 1;\n                        currentPageHtml += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + nextPage + '\">' + nextPage + '</a></li>';\n                        nextPage += 1;\n                    } else if (right < delta) {\n                        rightStop = true;\n                        left -= delta - right;\n                    }\n                }\n            }\n            if (prevPage > 0) {\n                currentPageHtml = '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + (currentPage - 1) + '\">...</a></li>' + currentPageHtml;\n            }\n\n            if (nextPage <= lastPage) {\n                currentPageHtml += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + (currentPage + 1) + '\">...</a></li>';\n            }\n\n            html += currentPageHtml;\n            html += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + lastPage + '\" aria-label=\"Previous\"><span aria-hidden=\"true\">&raquo;</span><span class=\"sr-only\">Last</span></a></li>'\n            html += '</ul></nav></div>';\n\n            $(this._container).find(`.${ClassName.TABLE_FOOTER}`).empty().html(html);\n        }\n\n        _drawBody() {\n            $(this._element).removeClass(ClassName.TABLE).addClass(ClassName.TABLE).empty();\n            let html = '';\n            // caption\n            if (this._config.caption) {\n                html += '<caption>' + this._config.caption + '</caption>';\n            }\n            // thead\n            if (this._headers.length > 0) {\n                html += '<thead><tr>';\n                $(this._headers).each(function (i, d) {\n                    html += '<th title=\"' + d['name'] + '\" style=\"' + d['style'] + '\"><div class=\"' + ClassName.TABLE_CELL + '\">' + d['name'] + '</div></th>'\n                });\n                html += '</tr></thead>'\n            }\n            // rows\n            if (this._rows.length > 0) {\n                html += '<tbody>';\n                let that = this;\n                $(this._rows).each(function (i, d) {\n                    let row = '<tr class=\"' + ClassName.ROW + ' ' + ClassName.ROW + '-' + i +'\">';\n                    $(that._headers).each(function (j, h) {\n                        let cell = d[j];\n                        row += '<td title=\"' + cell + '\" style=\"' + h['style'] + '\"><div class=\"' + ClassName.TABLE_CELL + '\" >' + cell + '</div></td>';\n                    });\n                    row += '</tr>';\n                    html += row;\n                });\n                html += '</tbody>';\n            }\n\n            $(this._element).html(html);\n            $(document).on('click', `.${ClassName.ROW}`, function () {\n                $('.tui-table-row').removeClass(ClassName.ROW_SELECTED);\n                $(this).addClass(ClassName.ROW_SELECTED);\n            });\n        }\n\n        _getConfig(config) {\n            config = {\n                ...Default,\n                ...config\n            };\n            Util.typeCheckConfig(NAME, config, DefaultType);\n            return config;\n        }\n\n\n        _getData(callback) {\n\n            if (!this._config.caption) {\n                this._config.caption = $(this._element).find('caption').html();\n            }\n            let _headers = [];\n            let _rows = [];\n            if (this._config.url) {\n                // 解析fields\n                if (this._config.fields.length > 0) {\n                    $(this._config.fields.split('|')).each(function (i, d) {\n                        const col = d.split(',', 3);\n                        _headers.push({\n                            'key' : col[0],\n                            'name': col[1],\n                            'style':col[2] ? col[2] : ''\n                        });\n                    });\n                }\n                this._headers = _headers;\n\n                let that = this;\n                $.ajax({\n                    url: this._config.url,\n                    type: this._config.method,\n                    data: {\n                        page: Math.max(1, this._config.page)\n                    },\n                    success: function (data) {\n                        that._rows = [];\n                        that._config.page = data['page'];\n                        that._config.size = data['size'];\n                        that._config.total = data['total'];\n                        let rows = data['data'];\n                        $(rows).each(function (i, d) {\n                            let r = [];\n                            $(that._headers).each(function (i, p) {\n                                r.push(d[p['key']]);\n                            });\n                            that._rows.push(r);\n                        });\n                        callback.call(that);\n                    }\n                });\n            } else {\n                let cells = $(this._element).find('thead > tr > th, thead > tr > td');\n                $(cells).each(function (i, d) {\n                    const $e = $(d);\n                    _headers.push({\n                        'name': $e.html()\n                    });\n                });\n                this._headers = _headers;\n\n                let rs = $(this._element).find('tbody > tr');\n                $(rs).each(function (i, d) {\n                    let r = [];\n                    const cells = $(d).find('th, td');\n                    $(cells).each(function (i, d) {\n                        r.push($(d).html());\n                    });\n                    _rows.push(r);\n                });\n                this._rows = _rows;\n                callback()\n            }\n        }\n\n\n\n        // Static\n\n        static _jQueryInterface(relatedTarget, config) {\n            return this.each(function () {\n                let data = $(this).data(DATA_KEY);\n                const _config = {\n                    ...Table.Default,\n                    ...$(this).data(),\n                    ...typeof config === 'object' && config\n                };\n\n                if (!data) {\n                    data = new Table(relatedTarget, this, _config);\n                    $(this).data(DATA_KEY, data);\n                }\n\n                if (typeof config === 'string') {\n                    if (typeof data[config] === 'undefined') {\n                        throw new TypeError(`No method named \"${config}\"`);\n                    }\n                    data[config](relatedTarget);\n                } else if (_config.toggle) {\n                    data.toggle(relatedTarget);\n                }\n            });\n        }\n    }\n\n\n    /**\n     * ------------------------------------------------------------------------\n     * Data Api implementation\n     * ------------------------------------------------------------------------\n     */\n    $(document).ready(function () {\n        let $element = $(Selector.DATA_TOGGLE);\n        let target;\n        const selector = Util.getSelectorFromElement($element[0]);\n\n        if (selector) {\n            target = $(selector)[0];\n        }\n        const config = $(target).data(DATA_KEY)\n            ? 'toggle' : {\n                ...$(target).data(),\n                ...$element.data()\n            };\n\n        Table._jQueryInterface.call($(target), $element[0], config);\n    });\n\n    /**\n     * ------------------------------------------------------------------------\n     * jQuery\n     * ------------------------------------------------------------------------\n     */\n\n    $.fn[NAME] = Table._jQueryInterface;\n    $.fn[NAME].Constructor = Table;\n    $.fn[NAME].noConflict = function () {\n        $.fn[NAME] = JQUERY_NO_CONFLICT;\n        return Table._jQueryInterface;\n    };\n\n    return Table;\n})($);\n\nexport default Table;"]}