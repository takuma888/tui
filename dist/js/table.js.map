{"version":3,"sources":["../../src/js/table.js"],"names":["Table","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","Selector","DATA_TOGGLE","PAGE_TOGGLE","SORT_TOGGLE","FILTER_TOGGLE","Default","url","page","size","total","draw","fields","caption","method","pageTpl","pageNum","sort","filter","DefaultType","ClassName","TABLE","ROW","ROW_SELECTED","TABLE_CELL","TABLE_CELL_FILTER","TABLE_FOOTER","TABLE_HEADER","TABLE_SORT","TABLE_SORT_DESC","TABLE_FILTER_TOGGLE","TABLE_FILTER","Event","CLICK_PAGE","CLICK_SORT","CLICK_FILTER","CLICK_SELECT","container","element","config","_config","_getConfig","_element","_isShown","_container","_rows","_headers","_sorted","length","split","sorts","each","i","d","sortValues","headerDiv","document","createElement","className","prepend","append","footerDiv","appendChild","filters","that","on","removeClass","addClass","data","_getData","_drawTableBody","_drawPage","sortKey","parent","hasClass","_drawSort","$target","toggleClass","$input","key","getAttribute","value","val","dispose","toggle","_drawTable","scope","console","log","sortConfig","$sortDiv","find","html","empty","lastPage","Math","ceil","currentPage","min","max","parseInt","delta","left","right","currentPageHtml","prevPage","nextPage","leftStop","rightStop","_drawTableHeader","_drawTableFooter","item","row","j","h","cell","cellClass","Util","typeCheckConfig","callback","col","push","ajax","type","success","rows","r","p","call","cells","$e","rs","_jQueryInterface","relatedTarget","TypeError","ready","$element","target","selector","getSelectorFromElement","Constructor","noConflict"],"mappings":"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","file":"table.js","sourcesContent":["import $ from 'jquery';\nimport Util from './util';\n\nconst Table = (($) => {\n    const NAME                = 'table';\n    const VERSION             = '4.0.0';\n    const DATA_KEY            = 'tui.table';\n    const EVENT_KEY           = `.${DATA_KEY}`;\n    const DATA_API_KEY        = '.data-api';\n    const JQUERY_NO_CONFLICT  = $.fn[NAME];\n\n    const Selector = {\n        DATA_TOGGLE          : '[data-toggle=\"tui-table\"]',\n        PAGE_TOGGLE          : '[data-toggle=\"tui-table-page\"]',\n        SORT_TOGGLE          : '[data-toggle=\"tui-table-sort\"]',\n        FILTER_TOGGLE        : '[data-toggle=\"tui-table-filter\"]',\n    };\n\n    const Default = {\n        url          : '',\n        page         : false,\n        size         : false,\n        total        : false,\n        draw         : true,\n        fields       : '',\n        caption      : '',\n        method       : 'get',\n        pageTpl      : '翻页',\n        pageNum      : 7,\n        sort         : '',\n        filter       : '',\n    };\n\n    const DefaultType = {\n        url      : 'string',\n        page     : '(boolean|number)',\n        size     : '(boolean|number)',\n        total    : '(boolean|number)',\n        draw     : 'boolean',\n        fields   : 'string',\n        caption  : 'string',\n        method   : 'string',\n        pageTpl  : 'string',\n        pageNum  : 'number',\n        sort     : 'string',\n        filter   : 'string',\n    };\n\n    const ClassName = {\n        TABLE               : 'tui-table',\n        ROW                 : 'tui-table-row',\n        ROW_SELECTED        : 'tui-table-row-selected',\n        TABLE_CELL          : 'tui-table-cell text-truncate',\n        TABLE_CELL_FILTER   : 'tui-table-cell-filter',\n        TABLE_FOOTER        : 'tui-table-footer',\n        TABLE_HEADER        : 'tui-table-header',\n        TABLE_SORT          : 'tui-table-sort',\n        TABLE_SORT_DESC     : 'tui-table-sort-desc',\n        TABLE_FILTER_TOGGLE : 'tui-table-filter-toggle',\n        TABLE_FILTER        : 'tui-table-filter',\n    };\n\n    const Event = {\n        CLICK_PAGE     : `click.page${EVENT_KEY}`,\n        CLICK_SORT     : `click.sort${EVENT_KEY}`,\n        CLICK_FILTER   : `click.filter${EVENT_KEY}`,\n        CLICK_SELECT   : `click.select${EVENT_KEY}`,\n    };\n\n    class Table {\n        constructor(container, element, config) {\n            this._config                = this._getConfig(config);\n            this._element               = element;\n            this._isShown               = false;\n            this._container             = container;\n            this._rows                  = [];\n            this._headers               = [];\n            this._sorted                = false;\n\n            if (this._config.pageNum % 2 === 0) {\n                this._config.pageNum += 1;\n            }\n\n            if (this._config['sort'].length > 0) {\n                let sort = this._config['sort'].split('|');\n                let sorts = {};\n                $(sort).each(function (i, d) {\n                    let sortValues = d.split(',');\n                    sorts[sortValues[0]] = {\n                        'key': sortValues[0],\n                        'dir': sortValues[1] ? sortValues[1] : 'asc',\n                    };\n                });\n                this._config['sort'] = sorts;\n            }\n            // 创建header\n            let headerDiv = document.createElement('div');\n            headerDiv.className = ClassName.TABLE_HEADER;\n            $(this._container).prepend(headerDiv);\n            $(`.${ClassName.TABLE_HEADER}`, this._container).append('<div class=\"tui-table-filter-wrapper\"></div>');\n            // 创建footer\n            let footerDiv = document.createElement('div');\n            footerDiv.className = ClassName.TABLE_FOOTER;\n            this._container.appendChild(footerDiv);\n            $(`.${ClassName.TABLE_FOOTER}`, this._container).append('<div class=\"tui-table-pagination\"></div>');\n\n            if (this._config.filter.length > 0) {\n                let filter = this._config.filter.split('|');\n                let filters = {};\n                $(filter).each(function (i, d) {\n                    filters[d] = {\n                        'key': d,\n                        'value': '',\n                    };\n                });\n                this._config.filter = filters;\n            }\n            let that = this;\n\n            // 选取\n            $(this._container).on(Event.CLICK_SELECT, `.${ClassName.ROW}`, function () {\n                $(`.${ClassName.ROW}`, that._container).removeClass(ClassName.ROW_SELECTED);\n                $(this).addClass(ClassName.ROW_SELECTED);\n            });\n\n            // 分页\n            $(this._container).on(Event.CLICK_PAGE, Selector.PAGE_TOGGLE, function () {\n                that._config.page = $(this).data('page');\n                that._getData(function () {\n                    that._drawTableBody('page');\n                    that._drawPage('page');\n                });\n            });\n            // sort\n            $(this._container).on(Event.CLICK_SORT, Selector.SORT_TOGGLE, function () {\n                const sortKey = $(this).parent('th').data('key');\n                that._config['sort'][sortKey]['dir'] = $(this).hasClass(ClassName.TABLE_SORT_DESC) ? 'asc' : 'desc';\n                that._sorted = true;\n                that._getData(function () {\n                    that._drawTableBody('sort');\n                    that._drawPage('sort');\n                    that._drawSort('sort');\n                });\n            });\n\n            // filter\n            $(this._container).on(Event.CLICK_FILTER, Selector.FILTER_TOGGLE, function () {\n                const $target = $($(this).data('target'));\n                $target.toggleClass('show');\n            });\n            $(this._container).on('input', '.tui-table-filter-input', function () {\n                const $input = $(this);\n                const key = this.getAttribute('name');\n                that._config.filter[key].value = $input.val();\n                that._getData(function () {\n                    that._drawTableBody('filter');\n                    that._drawPage('filter');\n                });\n            });\n        }\n\n        dispose() {\n            this._config = null;\n            this._element = null;\n            this._container = null;\n            this._isShown = null;\n            this._headers = null;\n            this._rows = null;\n        }\n\n        // Getters\n\n        static get VERSION() {\n            return VERSION;\n        }\n\n        static get Default() {\n            return Default;\n        }\n\n        // Public\n\n\n        toggle() {\n            let that = this;\n            this._getData(function () {\n                that._drawTable('toggle');\n                that._drawPage('toggle');\n                that._isShown = true;\n            });\n        }\n\n        // Private\n\n\n        _drawSort(scope) {\n            console.log('draw sort when \"' + scope + '\"');\n            let that = this;\n            $(this._headers).each(function (i, d) {\n                if (that._config['sort'][d['key']]) {\n                    const sortConfig = that._config['sort'][d['key']];\n                    let $sortDiv = $('thead th[data-key=\"' + d['key'] + '\"]', that._element).find(Selector.SORT_TOGGLE);\n                    $sortDiv.removeClass(ClassName.TABLE_SORT_DESC);\n                    if (sortConfig['dir'] !== 'asc') {\n                        $sortDiv.addClass(ClassName.TABLE_SORT_DESC);\n                    }\n                }\n            });\n        }\n\n        _drawPage(scope) {\n            console.log('draw page when \"' + scope + '\"');\n            let html = '';\n            html += '<nav aria-label=\"Page navigation\"><ul class=\"tui-table-pager\">';\n            if (this._config.total <= 0) {\n                html += '<li>未查询到数据</li>';\n                html += '</ul></nav>';\n                $(`.${ClassName.TABLE_FOOTER}`, this._container).find('.tui-table-pagination').empty().html(html);\n                return;\n            }\n            html += '<li>' + this._config.pageTpl + '</li>';\n            html += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"1\" aria-label=\"Previous\"><span aria-hidden=\"true\">&laquo;</span><span class=\"sr-only\">First</span></a></li>'\n            let lastPage = Math.ceil(this._config.total / this._config.size);\n            let currentPage = Math.min(Math.max(1, parseInt(this._config.page)), lastPage);\n            let delta = (parseInt(this._config.pageNum) - 1) / 2;\n            let left = 0;\n            let right = 0;\n\n\n            let currentPageHtml = '<li><a class=\"active\" href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + currentPage + '\">' + currentPage + '</a></li>';\n\n            let prevPage = parseInt(currentPage) - 1;\n            let nextPage = parseInt(currentPage) + 1;\n\n            let leftStop = false;\n            let rightStop = false;\n\n            // if (scope === 'filter') {\n            //     console.log('here', left, right, delta);\n            // }\n\n            while (left < delta && right < delta) {\n                // console.log('here', left, right, delta, leftStop, rightStop);\n                if (!leftStop) {\n                    if (prevPage > 1) {\n                        currentPageHtml = '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + prevPage + '\">' + prevPage + '</a></li>' + currentPageHtml;\n                        prevPage -= 1;\n                        left += 1;\n                    } else if (left < delta) {\n                        right -= delta - left;\n                        leftStop = true;\n                    }\n                }\n                if (!rightStop) {\n                    if (nextPage < lastPage) {\n                        right += 1;\n                        currentPageHtml += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + nextPage + '\">' + nextPage + '</a></li>';\n                        nextPage += 1;\n                    } else if (right < delta) {\n                        rightStop = true;\n                        left -= delta - right;\n                    }\n                }\n                if (leftStop && rightStop) {\n                    break;\n                }\n            }\n            if (prevPage > 0) {\n                currentPageHtml = '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + (currentPage - 1) + '\">...</a></li>' + currentPageHtml;\n            }\n\n            if (nextPage <= lastPage) {\n                currentPageHtml += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + (currentPage + 1) + '\">...</a></li>';\n            }\n\n            html += currentPageHtml;\n            html += '<li><a href=\"javascript:void(0);\" data-toggle=\"tui-table-page\" data-page=\"' + lastPage + '\" aria-label=\"Previous\"><span aria-hidden=\"true\">&raquo;</span><span class=\"sr-only\">Last</span></a></li>'\n            html += '<li>共 ' + this._config.total + '</li>';\n            html += '</ul></nav>';\n\n            $(`.${ClassName.TABLE_FOOTER}`, this._container).find('.tui-table-pagination').empty().html(html);\n        }\n\n        _drawTable(scope) {\n            console.log('draw table when \"' + scope + '\"');\n            $(this._element).removeClass(ClassName.TABLE).addClass(ClassName.TABLE).empty();\n            let html = '';\n            // caption\n            if (this._config.caption) {\n                html += '<caption>' + this._config.caption + '</caption>';\n            }\n            html += '<thead></thead><tbody></tbody><tfoot></tfoot>';\n            $(this._element).html(html);\n            this._drawTableHeader(scope);\n            this._drawTableBody(scope);\n            this._drawTableFooter(scope);\n        }\n\n        _drawTableHeader(scope) {\n            console.log('draw table header when \"' + scope + '\"');\n            if (this._headers.length > 0) {\n                let html = '';\n                html += '<tr>';\n                let that = this;\n                $(this._headers).each(function (i, d) {\n                    html += '<th data-key=\"' + d['key'] + '\" title=\"' + d['name'] + '\" style=\"' + d['style'] + '\">';\n                    html += '<div class=\"' + ClassName.TABLE_CELL + '\">' + d['name'] + '</div>';\n\n                    if (that._config.filter[d['key']]) {\n                        const item = that._config.filter[d['key']];\n                        html += '<div class=\"' + ClassName.TABLE_FILTER_TOGGLE + '\" data-toggle=\"tui-table-filter\" data-target=\"#filter-' + d['key'] + '\">';\n                        html += '</div>';\n                        html += '<div class=\"tui-control tui-table-filter-control\" id=\"filter-' + d['key'] + '\"><input type=\"text\" name=\"' + d['key'] + '\" class=\"tui-input tui-table-filter-input\" value=\"' + item['value'] + '\"></div>';\n                    }\n\n                    if (that._config['sort'][d['key']]) {\n                        const sortConfig = that._config['sort'][d['key']];\n                        if (sortConfig['dir'] === 'asc') {\n                            html += '<div data-toggle=\"tui-table-sort\" class=\"' + ClassName.TABLE_SORT + '\"></div>';\n                        } else {\n                            html += '<div data-toggle=\"tui-table-sort\" class=\"' + ClassName.TABLE_SORT + ' ' + ClassName.TABLE_SORT_DESC + '\"></div>';\n                        }\n                    }\n\n                    html += '</th>';\n                });\n                html += '</tr>';\n                $('thead', this._element).empty().html(html);\n            }\n        }\n\n\n        _drawTableBody(scope) {\n            console.log('draw table body when \"' + scope + '\"');\n            // rows\n            let html = '';\n            let that = this;\n            $(this._rows).each(function (i, d) {\n                let row = '<tr class=\"' + ClassName.ROW + ' ' + ClassName.ROW + '-' + i +'\">';\n                $(that._headers).each(function (j, h) {\n                    let cell = d[j];\n                    let cellClass = ClassName.TABLE_CELL;\n\n                    if (that._config.filter[h['key']] && that._config.filter[h['key']]['value'] !== '') {\n                        cellClass += ' ' + ClassName.TABLE_CELL_FILTER;\n                    }\n                    row += '<td><div class=\"' + cellClass + '\" style=\"' + h['style'] + '\">' + cell + '</div></td>';\n                });\n                row += '</tr>';\n                html += row;\n            });\n            $('tbody', this._element).empty().html(html);\n        }\n\n\n        _drawTableFooter(scope) {\n            console.log('draw table footer when \"' + scope + '\"');\n        }\n\n        _getConfig(config) {\n            config = {\n                ...Default,\n                ...config\n            };\n            Util.typeCheckConfig(NAME, config, DefaultType);\n            return config;\n        }\n\n\n        _getData(callback) {\n            if (!this._config.caption) {\n                this._config.caption = $(this._element).find('caption').html();\n            }\n            let _headers = [];\n            let _rows = [];\n            if (this._config.url) {\n                // 解析fields\n                if (this._config.fields.length > 0) {\n                    $(this._config.fields.split('|')).each(function (i, d) {\n                        const col = d.split(',', 3);\n                        _headers.push({\n                            'key' : col[0],\n                            'name': col[1],\n                            'style':col[2] ? col[2] : ''\n                        });\n                    });\n                }\n                this._headers = _headers;\n\n                let data = {};\n                data.page = Math.max(1, this._config.page);\n                if (this._isShown) {\n                    data.filter = this._config.filter;\n                    if (this._sorted) {\n                        data.sort = this._config.sort;\n                    }\n                }\n                let that = this;\n                $.ajax({\n                    url: this._config.url,\n                    type: this._config.method,\n                    data: data,\n                    success: function (data) {\n                        that._rows = [];\n                        that._config.page = data['page'];\n                        that._config.size = data['size'];\n                        that._config.total = data['total'];\n                        if (data['sort']) {\n                            that._config.sort = data['sort'];\n                        }\n                        if (data['filter']) {\n                            that._config.filter = data['filter'];\n                        }\n                        let rows = data['data'];\n                        if (typeof rows === 'object') {\n                            $(rows).each(function (i, d) {\n                                let r = [];\n                                $(that._headers).each(function (i, p) {\n                                    r.push(d[p['key']]);\n                                });\n                                that._rows.push(r);\n                            });\n                            callback.call(that);\n                        }\n                    }\n                });\n            } else {\n                let cells = $(this._element).find('thead > tr > th, thead > tr > td');\n                $(cells).each(function (i, d) {\n                    const $e = $(d);\n                    _headers.push({\n                        'key': $e.data('key'),\n                        'name': $e.html(),\n                        'style': d.getAttribute('style')\n                    });\n                });\n                this._headers = _headers;\n\n                let rs = $(this._element).find('tbody > tr');\n                $(rs).each(function (i, d) {\n                    let r = [];\n                    const cells = $(d).find('th, td');\n                    $(cells).each(function (i, d) {\n                        r.push($(d).html());\n                    });\n                    _rows.push(r);\n                });\n                this._rows = _rows;\n                callback()\n            }\n        }\n\n\n\n        // Static\n\n        static _jQueryInterface(relatedTarget, config) {\n            return this.each(function () {\n                let data = $(this).data(DATA_KEY);\n                const _config = {\n                    ...Table.Default,\n                    ...$(this).data(),\n                    ...typeof config === 'object' && config\n                };\n\n                if (!data) {\n                    data = new Table(relatedTarget, this, _config);\n                    $(this).data(DATA_KEY, data);\n                }\n\n                if (typeof config === 'string') {\n                    if (typeof data[config] === 'undefined') {\n                        throw new TypeError(`No method named \"${config}\"`);\n                    }\n                    data[config](relatedTarget);\n                } else if (_config.toggle) {\n                    data.toggle(relatedTarget);\n                }\n            });\n        }\n    }\n\n\n    /**\n     * ------------------------------------------------------------------------\n     * Data Api implementation\n     * ------------------------------------------------------------------------\n     */\n    $(document).ready(function () {\n        let $element = $(Selector.DATA_TOGGLE);\n        if ($element.length) {\n            let target;\n            const selector = Util.getSelectorFromElement($element[0]);\n\n            if (selector) {\n                target = $(selector)[0];\n            }\n            const config = $(target).data(DATA_KEY)\n                ? 'toggle' : {\n                    ...$(target).data(),\n                    ...$element.data()\n                };\n\n            Table._jQueryInterface.call($(target), $element[0], config);\n        }\n    });\n\n    /**\n     * ------------------------------------------------------------------------\n     * jQuery\n     * ------------------------------------------------------------------------\n     */\n\n    $.fn[NAME] = Table._jQueryInterface;\n    $.fn[NAME].Constructor = Table;\n    $.fn[NAME].noConflict = function () {\n        $.fn[NAME] = JQUERY_NO_CONFLICT;\n        return Table._jQueryInterface;\n    };\n\n    return Table;\n})($);\n\nexport default Table;"]}