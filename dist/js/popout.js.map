{"version":3,"sources":["../../src/js/popout.js"],"names":["Popout","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","ESCAPE_KEYCODE","SPACE_KEYCODE","TAB_KEYCODE","ARROW_UP_KEYCODE","ARROW_DOWN_KEYCODE","RIGHT_MOUSE_BUTTON_WHICH","REGEXP_KEYDOWN","RegExp","Event","HIDE","HIDDEN","SHOW","SHOWN","CLICK","CLICK_DATA_API","KEYDOWN_DATA_API","KEYUP_DATA_API","ClassName","DISABLED","POPUP","POPRIGHT","POPLEFT","MENURIGHT","MENULEFT","POSITION_STATIC","Selector","DATA_TOGGLE","FORM_CHILD","MENU","NAVBAR_NAV","VISIBLE_ITEMS","AttachmentMap","TOP","TOPEND","BOTTOM","BOTTOMEND","RIGHT","RIGHTEND","LEFT","LEFTEND","Default","offset","flip","boundary","reference","display","DefaultType","element","config","_element","_popper","_config","_getConfig","_menu","_getMenuElement","_inNavbar","_detectNavbar","_addEventListeners","toggle","disabled","hasClass","parent","_getParentFromElement","isActive","_clearMenus","relatedTarget","showEvent","trigger","isDefaultPrevented","Popper","TypeError","referenceElement","Util","isElement","jquery","addClass","_getPopperConfig","document","documentElement","closest","length","body","children","on","noop","focus","setAttribute","toggleClass","dispose","removeData","off","destroy","update","scheduleUpdate","event","preventDefault","stopPropagation","constructor","data","typeCheckConfig","find","_getPlacement","$parentPopout","placement","offsetConf","offsets","popperConfig","modifiers","enabled","preventOverflow","boundariesElement","applyStyle","_jQueryInterface","each","which","type","toggles","makeArray","i","context","popoutMenu","test","target","tagName","contains","hideEvent","removeClass","selector","getSelectorFromElement","parentNode","_dataApiKeydownHandler","items","get","index","indexOf","call","e","Constructor","noConflict"],"mappings":"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","file":"popout.js","sourcesContent":["import $ from 'jquery';\nimport Popper from 'popper.js';\nimport Util from './util';\n\nconst Popout = (($) => {\n\n    const NAME                     = 'popout';\n    const VERSION                  = '4.0.0';\n    const DATA_KEY                 = 'tui.popout';\n    const EVENT_KEY                = `.${DATA_KEY}`;\n    const DATA_API_KEY             = '.data-api';\n    const JQUERY_NO_CONFLICT       = $.fn[NAME];\n    const ESCAPE_KEYCODE           = 27; // KeyboardEvent.which value for Escape (Esc) key\n    const SPACE_KEYCODE            = 32; // KeyboardEvent.which value for space key\n    const TAB_KEYCODE              = 9; // KeyboardEvent.which value for tab key\n    const ARROW_UP_KEYCODE         = 38; // KeyboardEvent.which value for up arrow key\n    const ARROW_DOWN_KEYCODE       = 40; // KeyboardEvent.which value for down arrow key\n    const RIGHT_MOUSE_BUTTON_WHICH = 3; // MouseEvent.which value for the right button (assuming a right-handed mouse)\n    const REGEXP_KEYDOWN           = new RegExp(`${ARROW_UP_KEYCODE}|${ARROW_DOWN_KEYCODE}|${ESCAPE_KEYCODE}`);\n\n    const Event = {\n        HIDE             : `hide${EVENT_KEY}`,\n        HIDDEN           : `hidden${EVENT_KEY}`,\n        SHOW             : `show${EVENT_KEY}`,\n        SHOWN            : `shown${EVENT_KEY}`,\n        CLICK            : `click${EVENT_KEY}`,\n        CLICK_DATA_API   : `click${EVENT_KEY}${DATA_API_KEY}`,\n        KEYDOWN_DATA_API : `keydown${EVENT_KEY}${DATA_API_KEY}`,\n        KEYUP_DATA_API   : `keyup${EVENT_KEY}${DATA_API_KEY}`\n    };\n\n    const ClassName = {\n        DISABLED  : 'disabled',\n        SHOW      : 'show',\n        POPUP    : 'popup',\n        POPRIGHT : 'popright',\n        POPLEFT  : 'popleft',\n        MENURIGHT : 'popout-menu-right',\n        MENULEFT  : 'popout-menu-left',\n        POSITION_STATIC : 'position-static'\n    };\n\n    const Selector = {\n        DATA_TOGGLE   : '[data-toggle=\"popout\"]',\n        FORM_CHILD    : '.popout form',\n        MENU          : '.popout-menu',\n        NAVBAR_NAV    : '.navbar-nav',\n        VISIBLE_ITEMS : '.popout-menu .popout-item:not(.disabled):not(:disabled)'\n    };\n\n    const AttachmentMap = {\n        TOP       : 'top-start',\n        TOPEND    : 'top-end',\n        BOTTOM    : 'bottom-start',\n        BOTTOMEND : 'bottom-end',\n        RIGHT     : 'right-start',\n        RIGHTEND  : 'right-end',\n        LEFT      : 'left-start',\n        LEFTEND   : 'left-end'\n    };\n\n    const Default = {\n        offset      : 0,\n        flip        : true,\n        boundary    : 'scrollParent',\n        reference   : 'toggle',\n        display     : 'dynamic'\n    };\n\n    const DefaultType = {\n        offset      : '(number|string|function)',\n        flip        : 'boolean',\n        boundary    : '(string|element)',\n        reference   : '(string|element)',\n        display     : 'string'\n    };\n\n\n\n    class Popout {\n        constructor(element, config) {\n            this._element  = element;\n            this._popper   = null;\n            this._config   = this._getConfig(config);\n            this._menu     = this._getMenuElement();\n            this._inNavbar = this._detectNavbar();\n\n            this._addEventListeners();\n        }\n\n        // Getters\n\n        static get VERSION() {\n            return VERSION;\n        }\n\n        static get Default() {\n            return Default;\n        }\n\n        static get DefaultType() {\n            return DefaultType;\n        }\n\n        // Public\n\n        toggle() {\n            if (this._element.disabled || $(this._element).hasClass(ClassName.DISABLED)) {\n                return;\n            }\n\n            const parent   = Popout._getParentFromElement(this._element);\n            const isActive = $(this._menu).hasClass(ClassName.SHOW);\n\n            Popout._clearMenus();\n\n            if (isActive) {\n                return;\n            }\n\n            const relatedTarget = {\n                relatedTarget: this._element\n            };\n            const showEvent = $.Event(Event.SHOW, relatedTarget);\n\n            $(parent).trigger(showEvent);\n\n            if (showEvent.isDefaultPrevented()) {\n                return;\n            }\n\n            // Disable totally Popper.js for Popout in Navbar\n            if (!this._inNavbar) {\n                /**\n                 * Check for Popper dependency\n                 * Popper - https://popper.js.org\n                 */\n                if (typeof Popper === 'undefined') {\n                    throw new TypeError('TUI popout require Popper.js (https://popper.js.org)');\n                }\n\n                let referenceElement = this._element;\n\n                if (this._config.reference === 'parent') {\n                    referenceElement = parent;\n                } else if (Util.isElement(this._config.reference)) {\n                    referenceElement = this._config.reference;\n\n                    // Check if it's jQuery element\n                    if (typeof this._config.reference.jquery !== 'undefined') {\n                        referenceElement = this._config.reference[0];\n                    }\n                }\n\n                // If boundary is not `scrollParent`, then set position to `static`\n                // to allow the menu to \"escape\" the scroll parent's boundaries\n                // https://github.com/twbs/bootstrap/issues/24251\n                if (this._config.boundary !== 'scrollParent') {\n                    $(parent).addClass(ClassName.POSITION_STATIC);\n                }\n                this._popper = new Popper(referenceElement, this._menu, this._getPopperConfig());\n            }\n\n            // If this is a touch-enabled device we add extra\n            // empty mouseover listeners to the body's immediate children;\n            // only needed because of broken event delegation on iOS\n            // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n            if ('ontouchstart' in document.documentElement &&\n                $(parent).closest(Selector.NAVBAR_NAV).length === 0) {\n                $(document.body).children().on('mouseover', null, $.noop);\n            }\n\n            this._element.focus();\n            this._element.setAttribute('aria-expanded', true);\n\n            $(this._menu).toggleClass(ClassName.SHOW);\n            $(parent)\n                .toggleClass(ClassName.SHOW)\n                .trigger($.Event(Event.SHOWN, relatedTarget));\n        }\n\n        dispose() {\n            $.removeData(this._element, DATA_KEY);\n            $(this._element).off(EVENT_KEY);\n            this._element = null;\n            this._menu = null;\n            if (this._popper !== null) {\n                this._popper.destroy();\n                this._popper = null;\n            }\n        }\n\n        update() {\n            this._inNavbar = this._detectNavbar();\n            if (this._popper !== null) {\n                this._popper.scheduleUpdate();\n            }\n        }\n\n        // Private\n\n        _addEventListeners() {\n            $(this._element).on(Event.CLICK, (event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                this.toggle();\n            })\n        }\n\n        _getConfig(config) {\n            config = {\n                ...this.constructor.Default,\n                ...$(this._element).data(),\n                ...config\n            };\n\n            Util.typeCheckConfig(\n                NAME,\n                config,\n                this.constructor.DefaultType\n            );\n\n            return config;\n        }\n\n        _getMenuElement() {\n            if (!this._menu) {\n                const parent = Popout._getParentFromElement(this._element);\n                this._menu = $(parent).find(Selector.MENU)[0];\n            }\n            return this._menu;\n        }\n\n        _getPlacement() {\n            const $parentPopout = $(this._element).parent();\n            let placement = AttachmentMap.BOTTOM;\n\n            // Handle dropup\n            if ($parentPopout.hasClass(ClassName.POPUP)) {\n                placement = AttachmentMap.TOP;\n                if ($(this._menu).hasClass(ClassName.MENURIGHT)) {\n                    placement = AttachmentMap.TOPEND;\n                }\n            } else if ($parentPopout.hasClass(ClassName.POPRIGHT)) {\n                placement = AttachmentMap.RIGHT;\n            } else if ($parentPopout.hasClass(ClassName.POPLEFT)) {\n                placement = AttachmentMap.LEFT;\n            } else if ($(this._menu).hasClass(ClassName.MENURIGHT)) {\n                placement = AttachmentMap.BOTTOMEND;\n            }\n            return placement\n        }\n\n        _detectNavbar() {\n            return $(this._element).closest('.navbar').length > 0;\n        }\n\n        _getPopperConfig() {\n            const offsetConf = {};\n            if (typeof this._config.offset === 'function') {\n                offsetConf.fn = (data) => {\n                    data.offsets = {\n                        ...data.offsets,\n                        ...this._config.offset(data.offsets) || {}\n                    };\n                    return data;\n                }\n            } else {\n                offsetConf.offset = this._config.offset;\n            }\n            const popperConfig = {\n                placement: this._getPlacement(),\n                modifiers: {\n                    offset: offsetConf,\n                    flip: {\n                        enabled: this._config.flip\n                    },\n                    preventOverflow: {\n                        boundariesElement: this._config.boundary\n                    }\n                }\n            };\n\n            // Disable Popper.js if we have a static display\n            if (this._config.display === 'static') {\n                popperConfig.modifiers.applyStyle = {\n                    enabled: false\n                };\n            }\n            return popperConfig;\n        }\n\n        // Static\n\n        static _jQueryInterface(config) {\n            return this.each(function () {\n                let data = $(this).data(DATA_KEY);\n                const _config = typeof config === 'object' ? config : null;\n\n                if (!data) {\n                    data = new Popout(this, _config);\n                    $(this).data(DATA_KEY, data);\n                }\n\n                if (typeof config === 'string') {\n                    if (typeof data[config] === 'undefined') {\n                        throw new TypeError(`No method named \"${config}\"`);\n                    }\n                    data[config]();\n                }\n            })\n        }\n\n        static _clearMenus(event) {\n            if (event && (event.which === RIGHT_MOUSE_BUTTON_WHICH ||\n                event.type === 'keyup' && event.which !== TAB_KEYCODE)) {\n                return;\n            }\n\n            const toggles = $.makeArray($(Selector.DATA_TOGGLE));\n            for (let i = 0; i < toggles.length; i++) {\n                const parent = Popout._getParentFromElement(toggles[i]);\n                const context = $(toggles[i]).data(DATA_KEY);\n                const relatedTarget = {\n                    relatedTarget: toggles[i]\n                };\n\n                if (!context) {\n                    continue;\n                }\n\n                const popoutMenu = context._menu;\n                if (!$(parent).hasClass(ClassName.SHOW)) {\n                    continue;\n                }\n\n                if (event && (event.type === 'click' &&\n                    /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === TAB_KEYCODE) &&\n                    $.contains(parent, event.target)) {\n                    continue;\n                }\n\n                const hideEvent = $.Event(Event.HIDE, relatedTarget);\n                $(parent).trigger(hideEvent);\n                if (hideEvent.isDefaultPrevented()) {\n                    continue;\n                }\n\n                // If this is a touch-enabled device we remove the extra\n                // empty mouseover listeners we added for iOS support\n                if ('ontouchstart' in document.documentElement) {\n                    $(document.body).children().off('mouseover', null, $.noop);\n                }\n\n                toggles[i].setAttribute('aria-expanded', 'false');\n\n                $(popoutMenu).removeClass(ClassName.SHOW);\n                $(parent)\n                    .removeClass(ClassName.SHOW)\n                    .trigger($.Event(Event.HIDDEN, relatedTarget));\n            }\n        }\n\n        static _getParentFromElement(element) {\n            let parent;\n            const selector = Util.getSelectorFromElement(element);\n\n            if (selector) {\n                parent = $(selector)[0];\n            }\n\n            return parent || element.parentNode;\n        }\n\n        // eslint-disable-next-line complexity\n        static _dataApiKeydownHandler(event) {\n            // If not input/textarea:\n            //  - And not a key in REGEXP_KEYDOWN => not a popout command\n            // If input/textarea:\n            //  - If space key => not a popout command\n            //  - If key is other than escape\n            //    - If key is not up or down => not a popout command\n            //    - If trigger inside the menu => not a popout command\n            if (/input|textarea/i.test(event.target.tagName)\n                    ? event.which === SPACE_KEYCODE || event.which !== ESCAPE_KEYCODE &&\n                    (event.which !== ARROW_DOWN_KEYCODE && event.which !== ARROW_UP_KEYCODE ||\n                    $(event.target).closest(Selector.MENU).length) : !REGEXP_KEYDOWN.test(event.which)) {\n                return;\n            }\n\n            event.preventDefault();\n            event.stopPropagation();\n\n            if (this.disabled || $(this).hasClass(ClassName.DISABLED)) {\n                return;\n            }\n\n            const parent   = Popout._getParentFromElement(this);\n            const isActive = $(parent).hasClass(ClassName.SHOW);\n\n            if (!isActive && (event.which !== ESCAPE_KEYCODE || event.which !== SPACE_KEYCODE) ||\n                isActive && (event.which === ESCAPE_KEYCODE || event.which === SPACE_KEYCODE)) {\n                if (event.which === ESCAPE_KEYCODE) {\n                    const toggle = $(parent).find(Selector.DATA_TOGGLE)[0];\n                    $(toggle).trigger('focus');\n                }\n\n                $(this).trigger('click');\n                return;\n            }\n\n            const items = $(parent).find(Selector.VISIBLE_ITEMS).get();\n\n            if (items.length === 0) {\n                return;\n            }\n\n            let index = items.indexOf(event.target);\n\n            if (event.which === ARROW_UP_KEYCODE && index > 0) { // Up\n                index--;\n            }\n\n            if (event.which === ARROW_DOWN_KEYCODE && index < items.length - 1) { // Down\n                index++;\n            }\n\n            if (index < 0) {\n                index = 0;\n            }\n\n            items[index].focus();\n        }\n    }\n\n    /**\n     * ------------------------------------------------------------------------\n     * Data Api implementation\n     * ------------------------------------------------------------------------\n     */\n\n    $(document)\n        .on(Event.KEYDOWN_DATA_API, Selector.DATA_TOGGLE, Popout._dataApiKeydownHandler)\n        .on(Event.KEYDOWN_DATA_API, Selector.MENU, Popout._dataApiKeydownHandler)\n        .on(`${Event.CLICK_DATA_API} ${Event.KEYUP_DATA_API}`, Popout._clearMenus)\n        .on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            Popout._jQueryInterface.call($(this), 'toggle');\n        })\n        .on(Event.CLICK_DATA_API, Selector.FORM_CHILD, (e) => {\n            e.stopPropagation();\n        });\n\n    /**\n     * ------------------------------------------------------------------------\n     * jQuery\n     * ------------------------------------------------------------------------\n     */\n\n    $.fn[NAME] = Popout._jQueryInterface;\n    $.fn[NAME].Constructor = Popout;\n    $.fn[NAME].noConflict = function () {\n        $.fn[NAME] = JQUERY_NO_CONFLICT;\n        return Popout._jQueryInterface;\n    };\n\n    return Popout;\n\n})($, Popper);\n\nexport default Popout;\n"]}