{"version":3,"sources":["../../src/js/layer.js"],"names":["Layer","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","ESCAPE_KEYCODE","LAYER_ZINDEX","LAYER_COUNT","Default","offset","backdrop","keyboard","focus","show","width","height","type","url","fixed","DefaultType","Type","modal","iframe","Event","HIDE","HIDDEN","SHOW","SHOWN","LOADED","FOCUSIN","RESIZE","CLICK_DISMISS","KEYDOWN_DISMISS","MOUSEUP_DISMISS","MOUSEDOWN_DISMISS","CLICK_DATA_API","ClassName","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","LAYER","Selector","DATA_TOGGLE","DATA_DISMISS","FIXED_CONTENT","STICKY_CONTENT","NAVBAR_TOGGLER","element","config","_id","_config","_getConfig","_element","_layer","find","_backdrop","_isShown","_isBodyOverflowing","_scrollbarWidth","toggle","relatedTarget","hide","_isTransitioning","length","document","createElement","setAttribute","className","loadFunction","loadedEvent","trigger","src","attachEvent","onload","appendTo","load","proxy","hasClass","showEvent","isDefaultPrevented","_checkScrollbar","_setScrollbar","addClass","css","body","_setEscapeEvent","_setResizeEvent","on","event","_showBackdrop","_showElement","preventDefault","hideEvent","transition","off","removeClass","transitionDuration","Util","getTransitionDurationFromElement","one","TRANSITION_END","_hideLayer","emulateTransitionEnd","dispose","removeData","window","update","_adjustLayer","typeCheckConfig","_getPlacement","$window","$element","outerHeight","outerWidth","offsetTop","offsetLeft","Math","max","top","left","parentNode","nodeType","Node","ELEMENT_NODE","appendChild","style","display","removeAttribute","scrollTop","reflow","_enforceFocus","shownEvent","transitionComplete","target","has","which","_resetAdjustments","_resetScrollbar","_removeBackdrop","remove","callback","animate","currentTarget","backdropTransitionDuration","callbackRemove","isModalOverflowing","scrollHeight","documentElement","clientHeight","paddingLeft","paddingRight","rect","getBoundingClientRect","right","innerWidth","_getScrollbarWidth","each","index","actualPadding","calculatedPadding","data","parseFloat","actualMargin","marginRight","calculatedMargin","padding","margin","scrollDiv","scrollbarWidth","clientWidth","removeChild","_jQueryInterface","TypeError","selector","getSelectorFromElement","tagName","$target","is","call","Constructor","noConflict"],"mappings":"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","file":"layer.js","sourcesContent":["import $ from 'jquery';\nimport Util from './util';\n\nconst Layer = (($) => {\n    const NAME                = 'layer';\n    const VERSION             = '4.0.0';\n    const DATA_KEY            = 'tui.layer';\n    const EVENT_KEY           = `.${DATA_KEY}`;\n    const DATA_API_KEY        = '.data-api';\n    const JQUERY_NO_CONFLICT  = $.fn[NAME];\n    const ESCAPE_KEYCODE      = 27; // KeyboardEvent.which value for Escape (Esc) key\n\n    let LAYER_ZINDEX       = 1050;\n    let LAYER_COUNT        = 0;\n\n    const Default = {\n        offset   : 'auto',\n        backdrop : true,\n        keyboard : true,\n        focus    : true,\n        show     : true,\n        width    : '',\n        height   : '',\n        type     : 'modal',\n        url      : '',\n        fixed    : true\n    };\n\n    const DefaultType = {\n        offset   : '(number|string|function)',\n        backdrop : '(boolean|string)',\n        keyboard : 'boolean',\n        focus    : 'boolean',\n        show     : 'boolean',\n        width    : '(number|string)',\n        height   : '(number|string)',\n        type     : 'string',\n        url      : 'string',\n        fixed    : 'boolean'\n    };\n\n\n    const Type = {\n        modal: 'modal',\n        iframe: 'iframe'\n    };\n\n    const Event = {\n        HIDE              : `hide${EVENT_KEY}`,\n        HIDDEN            : `hidden${EVENT_KEY}`,\n        SHOW              : `show${EVENT_KEY}`,\n        SHOWN             : `shown${EVENT_KEY}`,\n        LOADED            : `loaded${EVENT_KEY}`,\n        FOCUSIN           : `focusin${EVENT_KEY}`,\n        RESIZE            : `resize${EVENT_KEY}`,\n        CLICK_DISMISS     : `click.dismiss${EVENT_KEY}`,\n        KEYDOWN_DISMISS   : `keydown.dismiss${EVENT_KEY}`,\n        MOUSEUP_DISMISS   : `mouseup.dismiss${EVENT_KEY}`,\n        MOUSEDOWN_DISMISS : `mousedown.dismiss${EVENT_KEY}`,\n        CLICK_DATA_API    : `click${EVENT_KEY}${DATA_API_KEY}`\n    };\n\n    const ClassName = {\n        SCROLLBAR_MEASURER : 'layer-scrollbar-measure',\n        BACKDROP           : 'layer-backdrop',\n        OPEN               : 'layer-open',\n        FADE               : 'fade',\n        SHOW               : 'show',\n        LAYER              : 'layer-inner'\n    };\n\n    const Selector = {\n        LAYER              : '.layer-inner',\n        DATA_TOGGLE        : '[data-toggle=\"layer\"]',\n        DATA_DISMISS       : '[data-dismiss=\"layer\"]',\n        FIXED_CONTENT      : '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top',\n        STICKY_CONTENT     : '.sticky-top',\n        NAVBAR_TOGGLER     : '.navbar-toggler'\n    };\n\n    class Layer {\n        constructor(element, config) {\n            this._id                  = ++ LAYER_COUNT;\n            this._config              = this._getConfig(config);\n            this._element             = element;\n            this._layer               = $(element).find(Selector.LAYER)[0];\n            this._backdrop            = null;\n            this._isShown             = false;\n            this._isBodyOverflowing   = false;\n            this._scrollbarWidth      = 0;\n        }\n\n        // Getters\n\n        static get VERSION() {\n            return VERSION;\n        }\n\n        static get Default() {\n            return Default;\n        }\n\n        // Public\n\n        toggle(relatedTarget) {\n            return this._isShown ? this.hide() : this.show(relatedTarget)\n        }\n\n        show(relatedTarget) {\n            if (this._isTransitioning || this._isShown) {\n                return;\n            }\n            if (this._config.url.length > 0) {\n                if (!this._layer) {\n                    if (this._config.type === Type.iframe) {\n                        this._layer = document.createElement('iframe');\n                        this._layer.setAttribute('frameborder', '0');\n                        this._layer.setAttribute('scrolling', 'auto');\n                        this._layer.setAttribute('allowtransparency', 'true');\n                    } else {\n                        this._layer = document.createElement('div');\n                    }\n                    this._layer.className = ClassName.LAYER;\n                }\n                let loadFunction = function () {\n                    const loadedEvent = $.Event(Event.LOADED, {\n                        relatedTarget\n                    });\n                    $(this._element).trigger(loadedEvent);\n                };\n                if (this._config.type === Type.iframe) {\n                    this._layer.src = this._config.url;\n                    if (this._layer.attachEvent){\n                        this._layer.attachEvent('onload', loadFunction);\n                    } else {\n                        this._layer.onload = loadFunction;\n                    }\n                    $(this._layer).appendTo(this._element);\n                } else {\n                    $(this._layer).appendTo(this._element);\n                    $(this._layer)\n                        .load(this._config.url, $.proxy(loadFunction, this))\n                }\n            } else {\n                if (!this._layer) {\n                    this._layer = document.createElement('div');\n                    this._layer.className = ClassName.LAYER;\n                    $(this._layer).appendTo(this._element);\n                }\n            }\n\n            if ($(this._element).hasClass(ClassName.FADE)) {\n                this._isTransitioning = true;\n            }\n\n            const showEvent = $.Event(Event.SHOW, {\n                relatedTarget\n            });\n\n            $(this._element).trigger(showEvent);\n\n            if (this._isShown || showEvent.isDefaultPrevented()) {\n                return;\n            }\n\n            this._isShown = true;\n\n            this._checkScrollbar();\n            this._setScrollbar();\n\n            $(this._element)\n                .addClass(ClassName.SHOW)\n                .css({\n                    'z-index': LAYER_ZINDEX + LAYER_COUNT\n                });\n            if (this._config.width) {\n                $(this._element).css({\n                    'width': this._config.width,\n                });\n                $(this._layer).css({\n                    'width': this._config.width,\n                });\n            }\n            if (this._config.height) {\n                $(this._element).css({\n                    'height': this._config.height,\n                });\n                $(this._layer).css({\n                    'height': this._config.height\n                });\n            }\n\n            if (this._config.fixed) {\n                $(document.body).addClass(ClassName.OPEN);\n            }\n\n\n            this._setEscapeEvent();\n            this._setResizeEvent();\n\n            $(this._element).on(\n                Event.CLICK_DISMISS,\n                Selector.DATA_DISMISS,\n                (event) => this.hide(event)\n            );\n\n            this._showBackdrop(() => this._showElement(relatedTarget));\n        }\n\n        hide(event) {\n\n            if (event) {\n                event.preventDefault();\n            }\n\n            if (this._isTransitioning || !this._isShown) {\n                return;\n            }\n\n            const hideEvent = $.Event(Event.HIDE);\n\n            $(this._element).trigger(hideEvent);\n\n            if (!this._isShown || hideEvent.isDefaultPrevented()) {\n                return;\n            }\n\n            this._isShown = false;\n            const transition = $(this._element).hasClass(ClassName.FADE);\n\n            if (transition) {\n                this._isTransitioning = true;\n            }\n\n            this._setEscapeEvent();\n            this._setResizeEvent();\n\n            $(document).off(Event.FOCUSIN);\n\n            $(this._element).removeClass(ClassName.SHOW);\n\n            $(this._element).off(Event.CLICK_DISMISS);\n            $(this._layer).off(Event.MOUSEDOWN_DISMISS);\n\n\n            if (transition) {\n                const transitionDuration  = Util.getTransitionDurationFromElement(this._element);\n\n                $(this._element)\n                    .one(Util.TRANSITION_END, (event) => this._hideLayer(event))\n                    .emulateTransitionEnd(transitionDuration);\n            } else {\n                this._hideLayer();\n            }\n        }\n\n        dispose() {\n            $.removeData(this._element, DATA_KEY);\n\n            $(window, document, this._element, this._backdrop).off(EVENT_KEY);\n            this._config              = null;\n            this._layer               = null;\n            this._element             = null;\n            this._backdrop            = null;\n            this._isShown             = null;\n            this._isBodyOverflowing   = null;\n            this._scrollbarWidth      = null;\n        }\n\n\n        update() {\n            this._adjustLayer();\n        }\n\n\n        // Private\n\n        _getConfig(config) {\n            config = {\n                ...Default,\n                ...config\n            };\n            Util.typeCheckConfig(NAME, config, DefaultType);\n            return config;\n        }\n\n        _getPlacement() {\n            let $window = $(window);\n            let $element = $(this._element);\n            let outerHeight = $element.outerHeight();\n            let outerWidth = $element.outerWidth();\n            let offsetTop = ($window.height() - outerHeight)/2;\n            let offsetLeft = ($window.width() - outerWidth)/2;\n\n            if (this._config.offset !== 'auto') {\n                if(this._config.offset === 't'){ //上\n                    offsetTop = 0;\n                } else if(this._config.offset === 'r'){ //右\n                    offsetLeft = $window.width() - outerWidth;\n                } else if(this._config.offset === 'b'){ //下\n                    offsetTop = $window.height() - outerHeight;\n                } else if(this._config.offset === 'l'){ //左\n                    offsetLeft = 0;\n                } else if(this._config.offset === 'lt'){ //左上角\n                    offsetTop = 0;\n                    offsetLeft = 0;\n                } else if(this._config.offset === 'lb'){ //左下角\n                    offsetTop = $window.height() - outerHeight;\n                    offsetLeft = 0;\n                } else if(this._config.offset === 'rt'){ //右上角\n                    offsetTop = 0;\n                    offsetLeft = $window.width() - outerWidth;\n                } else if(this._config.offset === 'rb'){ //右下角\n                    offsetTop = $window.height() - outerHeight;\n                    offsetLeft = $window.width() - outerWidth;\n                } else {\n                    offsetTop = this._config.offset;\n                }\n            } else {\n                offsetTop = 40;\n            }\n            offsetTop = Math.max(40, offsetTop);\n            $element.css({top: offsetTop, left: offsetLeft});\n        }\n\n        _showElement(relatedTarget) {\n            const transition = $(this._element).hasClass(ClassName.FADE);\n\n            if (!this._element.parentNode ||\n                this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n                // Don't move modal's DOM position\n                document.body.appendChild(this._element);\n            }\n\n            this._element.style.display = 'block';\n            this._element.removeAttribute('aria-hidden');\n            this._element.scrollTop = 0;\n            this._element.setAttribute('data-id', 'layer-' + this._id);\n\n            if (transition) {\n                Util.reflow(this._element);\n            }\n\n            if (this._config.focus) {\n                this._enforceFocus();\n            }\n\n            const shownEvent = $.Event(Event.SHOWN, {\n                relatedTarget\n            });\n\n            const transitionComplete = () => {\n                if (this._config.focus) {\n                    this._element.focus();\n                }\n                this._isTransitioning = false;\n                $(this._element).trigger(shownEvent);\n                this._adjustLayer();\n            };\n\n            if (transition) {\n                const transitionDuration  = Util.getTransitionDurationFromElement(this._element);\n\n                $(this._element)\n                    .one(Util.TRANSITION_END, transitionComplete)\n                    .emulateTransitionEnd(transitionDuration);\n            } else {\n                transitionComplete();\n            }\n        }\n\n        _enforceFocus() {\n            $(document)\n                .off(Event.FOCUSIN) // Guard against infinite focus loop\n                .on(Event.FOCUSIN, (event) => {\n                    if (document !== event.target &&\n                        this._element !== event.target &&\n                        $(this._element).has(event.target).length === 0) {\n                        this._element.focus();\n                    }\n                });\n        }\n\n        _setEscapeEvent() {\n            if (this._isShown && this._config.keyboard) {\n                $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n                    if (event.which === ESCAPE_KEYCODE) {\n                        event.preventDefault();\n                        this.hide();\n                    }\n                });\n            } else if (!this._isShown) {\n                $(this._element).off(Event.KEYDOWN_DISMISS);\n            }\n        }\n\n        _setResizeEvent() {\n            if (this._isShown) {\n                $(window).on(Event.RESIZE, (event) => this.update(event));\n            } else {\n                $(window).off(Event.RESIZE);\n            }\n        }\n\n        _hideLayer() {\n            this._element.style.display = 'none';\n            this._element.setAttribute('aria-hidden', true);\n            this._isTransitioning = false;\n            this._showBackdrop(() => {\n                if (this._config.fixed) {\n                    $(document.body).removeClass(ClassName.OPEN);\n                }\n                this._resetAdjustments();\n                this._resetScrollbar();\n                $(this._element).trigger(Event.HIDDEN);\n            });\n        }\n\n        _removeBackdrop() {\n            if (this._backdrop) {\n                $(this._backdrop).remove();\n                this._backdrop = null;\n            }\n        }\n\n        _showBackdrop(callback) {\n            const animate = $(this._element).hasClass(ClassName.FADE)\n                ? ClassName.FADE : '';\n\n            if (this._isShown && this._config.backdrop) {\n                this._backdrop = document.createElement('div');\n                this._backdrop.className = ClassName.BACKDROP;\n\n                if (animate) {\n                    $(this._backdrop).addClass(animate);\n                }\n\n                $(this._backdrop).appendTo(document.body).addClass('tui');\n\n                $(this._backdrop).on(Event.CLICK_DISMISS, (event) => {\n                    if (event.target !== event.currentTarget) {\n                        return;\n                    }\n                    if (this._config.backdrop === 'static') {\n                        this._element.focus();\n                    } else {\n                        this.hide();\n                    }\n                });\n\n                if (animate) {\n                    Util.reflow(this._backdrop);\n                }\n\n                $(this._backdrop).addClass(ClassName.SHOW);\n\n                if (!callback) {\n                    return;\n                }\n\n                if (!animate) {\n                    callback();\n                    return;\n                }\n\n                const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n\n                $(this._backdrop)\n                    .one(Util.TRANSITION_END, callback)\n                    .emulateTransitionEnd(backdropTransitionDuration);\n            } else if (!this._isShown && this._backdrop) {\n                $(this._backdrop).removeClass(ClassName.SHOW);\n\n                const callbackRemove = () => {\n                    this._removeBackdrop();\n                    if (callback) {\n                        callback();\n                    }\n                };\n\n                if ($(this._element).hasClass(ClassName.FADE)) {\n                    const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n\n                    $(this._backdrop)\n                        .one(Util.TRANSITION_END, callbackRemove)\n                        .emulateTransitionEnd(backdropTransitionDuration);\n                } else {\n                    callbackRemove();\n                }\n            } else if (callback) {\n                callback();\n            }\n        }\n\n        // ----------------------------------------------------------------------\n        // the following methods are used to handle overflowing modals\n        // todo (fat): these should probably be refactored out of modal.js\n        // ----------------------------------------------------------------------\n\n        _adjustLayer() {\n            const isModalOverflowing =\n                this._element.scrollHeight > document.documentElement.clientHeight;\n\n            if (!this._isBodyOverflowing && isModalOverflowing) {\n                this._element.style.paddingLeft = `${this._scrollbarWidth}px`;\n            }\n\n            if (this._isBodyOverflowing && !isModalOverflowing) {\n                this._element.style.paddingRight = `${this._scrollbarWidth}px`;\n            }\n\n            this._getPlacement();\n        }\n\n        _resetAdjustments() {\n            this._element.style.paddingLeft = '';\n            this._element.style.paddingRight = '';\n        }\n\n        _checkScrollbar() {\n            const rect = document.body.getBoundingClientRect();\n            this._isBodyOverflowing = rect.left + rect.right < window.innerWidth;\n            this._scrollbarWidth = this._getScrollbarWidth();\n        }\n\n        _setScrollbar() {\n            if (this._isBodyOverflowing) {\n                // Note: DOMNode.style.paddingRight returns the actual value or '' if not set\n                //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set\n\n                // Adjust fixed content padding\n                $(Selector.FIXED_CONTENT).each((index, element) => {\n                    const actualPadding = $(element)[0].style.paddingRight;\n                    const calculatedPadding = $(element).css('padding-right');\n                    $(element).data('padding-right', actualPadding).css('padding-right', `${parseFloat(calculatedPadding) + this._scrollbarWidth}px`);\n                });\n\n                // Adjust sticky content margin\n                $(Selector.STICKY_CONTENT).each((index, element) => {\n                    const actualMargin = $(element)[0].style.marginRight;\n                    const calculatedMargin = $(element).css('margin-right');\n                    $(element).data('margin-right', actualMargin).css('margin-right', `${parseFloat(calculatedMargin) - this._scrollbarWidth}px`);\n                });\n\n                // Adjust navbar-toggler margin\n                $(Selector.NAVBAR_TOGGLER).each((index, element) => {\n                    const actualMargin = $(element)[0].style.marginRight;\n                    const calculatedMargin = $(element).css('margin-right');\n                    $(element).data('margin-right', actualMargin).css('margin-right', `${parseFloat(calculatedMargin) + this._scrollbarWidth}px`);\n                });\n\n                // Adjust body padding\n                const actualPadding = document.body.style.paddingRight;\n                const calculatedPadding = $(document.body).css('padding-right');\n                $(document.body).data('padding-right', actualPadding).css('padding-right', `${parseFloat(calculatedPadding) + this._scrollbarWidth}px`);\n            }\n        }\n\n        _resetScrollbar() {\n            // Restore fixed content padding\n            $(Selector.FIXED_CONTENT).each((index, element) => {\n                const padding = $(element).data('padding-right');\n                if (typeof padding !== 'undefined') {\n                    $(element).css('padding-right', padding).removeData('padding-right');\n                }\n            });\n\n            // Restore sticky content and navbar-toggler margin\n            $(`${Selector.STICKY_CONTENT}, ${Selector.NAVBAR_TOGGLER}`).each((index, element) => {\n                const margin = $(element).data('margin-right');\n                if (typeof margin !== 'undefined') {\n                    $(element).css('margin-right', margin).removeData('margin-right');\n                }\n            });\n\n            // Restore body padding\n            const padding = $(document.body).data('padding-right');\n            if (typeof padding !== 'undefined') {\n                $(document.body).css('padding-right', padding).removeData('padding-right');\n            }\n        }\n\n        _getScrollbarWidth() { // thx d.walsh\n            const scrollDiv = document.createElement('div');\n            scrollDiv.className = ClassName.SCROLLBAR_MEASURER;\n            document.body.appendChild(scrollDiv);\n            const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n            document.body.removeChild(scrollDiv);\n            return scrollbarWidth;\n        }\n\n\n        // Static\n\n        static _jQueryInterface(config, relatedTarget) {\n            return this.each(function () {\n                let data = $(this).data(DATA_KEY);\n                const _config = {\n                    ...Layer.Default,\n                    ...$(this).data(),\n                    ...typeof config === 'object' && config\n                };\n\n                if (!data) {\n                    data = new Layer(this, _config);\n                    $(this).data(DATA_KEY, data);\n                }\n\n                if (typeof config === 'string') {\n                    if (typeof data[config] === 'undefined') {\n                        throw new TypeError(`No method named \"${config}\"`);\n                    }\n                    data[config](relatedTarget);\n                } else if (_config.show) {\n                    data.show(relatedTarget);\n                }\n            })\n        }\n    }\n\n\n\n    /**\n     * ------------------------------------------------------------------------\n     * Data Api implementation\n     * ------------------------------------------------------------------------\n     */\n\n    $(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n        let target;\n        const selector = Util.getSelectorFromElement(this);\n\n        if (selector) {\n            target = $(selector)[0];\n        }\n        if (!target) {\n            target = document.createElement('div');\n            target.className = 'layer';\n            $(target)\n                .appendTo(document.body)\n                .addClass('tui')\n                .addClass('auto-generated-layer');\n        }\n\n        const config = $(target).data(DATA_KEY)\n            ? 'toggle' : {\n                ...$(target).data(),\n                ...$(this).data()\n            };\n\n        if (this.tagName === 'A' || this.tagName === 'AREA') {\n            event.preventDefault();\n        }\n\n        const $target = $(target).one(Event.SHOW, (showEvent) => {\n            if (showEvent.isDefaultPrevented()) {\n                // Only register focus restorer if layer will actually get shown\n                return;\n            }\n\n            $target.one(Event.HIDDEN, () => {\n                if ($(this).is(':visible')) {\n                    this.focus();\n                }\n            })\n        });\n\n        Layer._jQueryInterface.call($(target), config, this);\n    });\n\n    // remove ajax content and remove cache on modal closed\n    $(document).on('hidden.tui.layer', '.layer:not(.layer-cached)', function () {\n        $(this).removeData(DATA_KEY);\n    });\n    $(document).on('hidden.tui.layer', '.auto-generated-layer', function () {\n        $(this).removeData(DATA_KEY);\n        $(this).remove();\n    });\n\n    /**\n     * ------------------------------------------------------------------------\n     * jQuery\n     * ------------------------------------------------------------------------\n     */\n\n    $.fn[NAME] = Layer._jQueryInterface;\n    $.fn[NAME].Constructor = Layer;\n    $.fn[NAME].noConflict = function () {\n        $.fn[NAME] = JQUERY_NO_CONFLICT;\n        return Layer._jQueryInterface;\n    };\n\n    return Layer;\n})($);\n\nexport default Layer;"]}