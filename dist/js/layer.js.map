{"version":3,"sources":["../../src/js/layer.js"],"names":["Layer","$","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","fn","ESCAPE_KEYCODE","LAYER_ZINDEX","LAYER_COUNT","Default","offset","backdrop","keyboard","focus","show","width","height","type","url","fixed","DefaultType","Type","modal","iframe","Event","HIDE","HIDDEN","SHOW","SHOWN","LOADED","FOCUSIN","RESIZE","CLICK_DISMISS","KEYDOWN_DISMISS","MOUSEUP_DISMISS","MOUSEDOWN_DISMISS","CLICK_DATA_API","ClassName","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","LAYER","Selector","DATA_TOGGLE","DATA_DISMISS","FIXED_CONTENT","STICKY_CONTENT","NAVBAR_TOGGLER","element","config","_id","_config","_getConfig","_element","_layer","find","_backdrop","_isShown","_isBodyOverflowing","_scrollbarWidth","toggle","relatedTarget","hide","_isTransitioning","length","document","createElement","setAttribute","className","loadFunction","loadedEvent","trigger","src","attachEvent","onload","appendTo","load","proxy","hasClass","showEvent","isDefaultPrevented","_checkScrollbar","_setScrollbar","addClass","css","body","_adjustLayer","_setEscapeEvent","_setResizeEvent","on","event","_showBackdrop","_showElement","preventDefault","hideEvent","transition","off","removeClass","transitionDuration","Util","getTransitionDurationFromElement","one","TRANSITION_END","_hideLayer","emulateTransitionEnd","dispose","removeData","window","update","typeCheckConfig","_getPlacement","$window","$element","outerHeight","outerWidth","offsetTop","offsetLeft","top","left","parentNode","nodeType","Node","ELEMENT_NODE","appendChild","style","display","removeAttribute","scrollTop","reflow","_enforceFocus","shownEvent","transitionComplete","target","has","which","_resetAdjustments","_resetScrollbar","_removeBackdrop","remove","callback","animate","currentTarget","backdropTransitionDuration","callbackRemove","isModalOverflowing","scrollHeight","documentElement","clientHeight","paddingLeft","paddingRight","rect","getBoundingClientRect","right","innerWidth","_getScrollbarWidth","each","index","actualPadding","calculatedPadding","data","parseFloat","actualMargin","marginRight","calculatedMargin","padding","margin","scrollDiv","scrollbarWidth","clientWidth","removeChild","_jQueryInterface","TypeError","selector","getSelectorFromElement","tagName","$target","is","call","Constructor","noConflict"],"mappings":"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","file":"layer.js","sourcesContent":["import $ from 'jquery';\nimport Util from './util';\n\nconst Layer = (($) => {\n    const NAME                = 'layer';\n    const VERSION             = '4.0.0';\n    const DATA_KEY            = 'tui.layer';\n    const EVENT_KEY           = `.${DATA_KEY}`;\n    const DATA_API_KEY        = '.data-api';\n    const JQUERY_NO_CONFLICT  = $.fn[NAME];\n    const ESCAPE_KEYCODE      = 27; // KeyboardEvent.which value for Escape (Esc) key\n\n    let LAYER_ZINDEX       = 1050;\n    let LAYER_COUNT        = 0;\n\n    const Default = {\n        offset   : 'auto',\n        backdrop : true,\n        keyboard : true,\n        focus    : true,\n        show     : true,\n        width    : '',\n        height   : '',\n        type     : 'modal',\n        url      : '',\n        fixed    : true\n    };\n\n    const DefaultType = {\n        offset   : '(number|string|function)',\n        backdrop : '(boolean|string)',\n        keyboard : 'boolean',\n        focus    : 'boolean',\n        show     : 'boolean',\n        width    : '(number|string)',\n        height   : '(number|string)',\n        type     : 'string',\n        url      : 'string',\n        fixed    : 'boolean'\n    };\n\n\n    const Type = {\n        modal: 'modal',\n        iframe: 'iframe'\n    };\n\n    const Event = {\n        HIDE              : `hide${EVENT_KEY}`,\n        HIDDEN            : `hidden${EVENT_KEY}`,\n        SHOW              : `show${EVENT_KEY}`,\n        SHOWN             : `shown${EVENT_KEY}`,\n        LOADED            : `loaded${EVENT_KEY}`,\n        FOCUSIN           : `focusin${EVENT_KEY}`,\n        RESIZE            : `resize${EVENT_KEY}`,\n        CLICK_DISMISS     : `click.dismiss${EVENT_KEY}`,\n        KEYDOWN_DISMISS   : `keydown.dismiss${EVENT_KEY}`,\n        MOUSEUP_DISMISS   : `mouseup.dismiss${EVENT_KEY}`,\n        MOUSEDOWN_DISMISS : `mousedown.dismiss${EVENT_KEY}`,\n        CLICK_DATA_API    : `click${EVENT_KEY}${DATA_API_KEY}`\n    };\n\n    const ClassName = {\n        SCROLLBAR_MEASURER : 'layer-scrollbar-measure',\n        BACKDROP           : 'layer-backdrop',\n        OPEN               : 'layer-open',\n        FADE               : 'fade',\n        SHOW               : 'show',\n        LAYER              : 'layer-inner'\n    };\n\n    const Selector = {\n        LAYER              : '.layer-inner',\n        DATA_TOGGLE        : '[data-toggle=\"layer\"]',\n        DATA_DISMISS       : '[data-dismiss=\"layer\"]',\n        FIXED_CONTENT      : '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top',\n        STICKY_CONTENT     : '.sticky-top',\n        NAVBAR_TOGGLER     : '.navbar-toggler'\n    };\n\n    class Layer {\n        constructor(element, config) {\n            this._id                  = ++ LAYER_COUNT;\n            this._config              = this._getConfig(config);\n            this._element             = element;\n            this._layer               = $(element).find(Selector.LAYER)[0];\n            this._backdrop            = null;\n            this._isShown             = false;\n            this._isBodyOverflowing   = false;\n            this._scrollbarWidth      = 0;\n        }\n\n        // Getters\n\n        static get VERSION() {\n            return VERSION;\n        }\n\n        static get Default() {\n            return Default;\n        }\n\n        // Public\n\n        toggle(relatedTarget) {\n            return this._isShown ? this.hide() : this.show(relatedTarget)\n        }\n\n        show(relatedTarget) {\n            if (this._isTransitioning || this._isShown) {\n                return;\n            }\n            if (this._config.url.length > 0) {\n                if (!this._layer) {\n                    if (this._config.type === Type.iframe) {\n                        this._layer = document.createElement('iframe');\n                        this._layer.setAttribute('frameborder', '0');\n                        this._layer.setAttribute('scrolling', 'auto');\n                        this._layer.setAttribute('allowtransparency', 'true');\n                    } else {\n                        this._layer = document.createElement('div');\n                    }\n                    this._layer.className = ClassName.LAYER;\n                }\n                let loadFunction = function () {\n                    const loadedEvent = $.Event(Event.LOADED, {\n                        relatedTarget\n                    });\n                    $(this._element).trigger(loadedEvent);\n                };\n                if (this._config.type === Type.iframe) {\n                    this._layer.src = this._config.url;\n                    if (this._layer.attachEvent){\n                        this._layer.attachEvent('onload', loadFunction);\n                    } else {\n                        this._layer.onload = loadFunction;\n                    }\n                    $(this._layer).appendTo(this._element);\n                } else {\n                    $(this._layer).appendTo(this._element);\n                    $(this._layer)\n                        .load(this._config.url, $.proxy(loadFunction, this))\n                }\n            } else {\n                if (!this._layer) {\n                    this._layer = document.createElement('div');\n                    this._layer.className = ClassName.LAYER;\n                    $(this._layer).appendTo(this._element);\n                }\n            }\n\n            if ($(this._element).hasClass(ClassName.FADE)) {\n                this._isTransitioning = true;\n            }\n\n            const showEvent = $.Event(Event.SHOW, {\n                relatedTarget\n            });\n\n            $(this._element).trigger(showEvent);\n\n            if (this._isShown || showEvent.isDefaultPrevented()) {\n                return;\n            }\n\n            this._isShown = true;\n\n            this._checkScrollbar();\n            this._setScrollbar();\n\n            $(this._element)\n                .addClass(ClassName.SHOW)\n                .css({\n                    'z-index': LAYER_ZINDEX + LAYER_COUNT\n                });\n            if (this._config.width) {\n                $(this._element).css({\n                    'width': this._config.width,\n                });\n                $(this._layer).css({\n                    'height': this._config.height\n                });\n            }\n            if (this._config.height) {\n                $(this._element).css({\n                    'height': this._config.height,\n                });\n                $(this._layer).css({\n                    'height': this._config.height\n                });\n            }\n\n            if (this._config.fixed) {\n                $(document.body).addClass(ClassName.OPEN);\n            }\n\n            this._adjustLayer();\n\n\n            this._setEscapeEvent();\n            this._setResizeEvent();\n\n            $(this._element).on(\n                Event.CLICK_DISMISS,\n                Selector.DATA_DISMISS,\n                (event) => this.hide(event)\n            );\n\n            this._showBackdrop(() => this._showElement(relatedTarget));\n        }\n\n        hide(event) {\n\n            if (event) {\n                event.preventDefault();\n            }\n\n            if (this._isTransitioning || !this._isShown) {\n                return;\n            }\n\n            const hideEvent = $.Event(Event.HIDE);\n\n            $(this._element).trigger(hideEvent);\n\n            if (!this._isShown || hideEvent.isDefaultPrevented()) {\n                return;\n            }\n\n            this._isShown = false;\n            const transition = $(this._element).hasClass(ClassName.FADE);\n\n            if (transition) {\n                this._isTransitioning = true;\n            }\n\n            this._setEscapeEvent();\n            this._setResizeEvent();\n\n            $(document).off(Event.FOCUSIN);\n\n            $(this._element).removeClass(ClassName.SHOW);\n\n            $(this._element).off(Event.CLICK_DISMISS);\n            $(this._layer).off(Event.MOUSEDOWN_DISMISS);\n\n\n            if (transition) {\n                const transitionDuration  = Util.getTransitionDurationFromElement(this._element);\n\n                $(this._element)\n                    .one(Util.TRANSITION_END, (event) => this._hideLayer(event))\n                    .emulateTransitionEnd(transitionDuration);\n            } else {\n                this._hideLayer();\n            }\n        }\n\n        dispose() {\n            $.removeData(this._element, DATA_KEY);\n\n            $(window, document, this._element, this._backdrop).off(EVENT_KEY);\n            this._config              = null;\n            this._layer               = null;\n            this._element             = null;\n            this._backdrop            = null;\n            this._isShown             = null;\n            this._isBodyOverflowing   = null;\n            this._scrollbarWidth      = null;\n        }\n\n\n        update() {\n            this._adjustLayer();\n        }\n\n\n        // Private\n\n        _getConfig(config) {\n            config = {\n                ...Default,\n                ...config\n            };\n            Util.typeCheckConfig(NAME, config, DefaultType);\n            return config;\n        }\n\n        _getPlacement() {\n            let $window = $(window);\n            let $element = $(this._element);\n            let outerHeight = $element.outerHeight();\n            let outerWidth = $element.outerWidth();\n            let offsetTop = ($window.height() - outerHeight)/2;\n            let offsetLeft = ($window.width() - outerWidth)/2;\n\n            if (this._config.offset !== 'auto') {\n                if(this._config.offset === 't'){ //上\n                    offsetTop = 0;\n                } else if(this._config.offset === 'r'){ //右\n                    offsetLeft = $window.width() - outerWidth;\n                } else if(this._config.offset === 'b'){ //下\n                    offsetTop = $window.height() - outerHeight;\n                } else if(this._config.offset === 'l'){ //左\n                    offsetLeft = 0;\n                } else if(this._config.offset === 'lt'){ //左上角\n                    offsetTop = 0;\n                    offsetLeft = 0;\n                } else if(this._config.offset === 'lb'){ //左下角\n                    offsetTop = $window.height() - outerHeight;\n                    offsetLeft = 0;\n                } else if(this._config.offset === 'rt'){ //右上角\n                    offsetTop = 0;\n                    offsetLeft = $window.width() - outerWidth;\n                } else if(this._config.offset === 'rb'){ //右下角\n                    offsetTop = $window.height() - outerHeight;\n                    offsetLeft = $window.width() - outerWidth;\n                } else {\n                    offsetTop = this._config.offset;\n                }\n            }\n            $element.css({top: offsetTop, left: offsetLeft});\n        }\n\n        _showElement(relatedTarget) {\n            const transition = $(this._element).hasClass(ClassName.FADE);\n\n            if (!this._element.parentNode ||\n                this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n                // Don't move modal's DOM position\n                document.body.appendChild(this._element);\n            }\n\n            this._element.style.display = 'block';\n            this._element.removeAttribute('aria-hidden');\n            this._element.scrollTop = 0;\n            this._element.setAttribute('data-id', 'layer-' + this._id);\n\n            if (transition) {\n                Util.reflow(this._element);\n            }\n\n            if (this._config.focus) {\n                this._enforceFocus();\n            }\n\n            const shownEvent = $.Event(Event.SHOWN, {\n                relatedTarget\n            });\n\n            const transitionComplete = () => {\n                if (this._config.focus) {\n                    this._element.focus();\n                }\n                this._isTransitioning = false;\n                $(this._element).trigger(shownEvent);\n            };\n\n            if (transition) {\n                const transitionDuration  = Util.getTransitionDurationFromElement(this._element);\n\n                $(this._element)\n                    .one(Util.TRANSITION_END, transitionComplete)\n                    .emulateTransitionEnd(transitionDuration);\n            } else {\n                transitionComplete();\n            }\n        }\n\n        _enforceFocus() {\n            $(document)\n                .off(Event.FOCUSIN) // Guard against infinite focus loop\n                .on(Event.FOCUSIN, (event) => {\n                    if (document !== event.target &&\n                        this._element !== event.target &&\n                        $(this._element).has(event.target).length === 0) {\n                        this._element.focus();\n                    }\n                });\n        }\n\n        _setEscapeEvent() {\n            if (this._isShown && this._config.keyboard) {\n                $(this._element).on(Event.KEYDOWN_DISMISS, (event) => {\n                    if (event.which === ESCAPE_KEYCODE) {\n                        event.preventDefault();\n                        this.hide();\n                    }\n                });\n            } else if (!this._isShown) {\n                $(this._element).off(Event.KEYDOWN_DISMISS);\n            }\n        }\n\n        _setResizeEvent() {\n            if (this._isShown) {\n                $(window).on(Event.RESIZE, (event) => this.update(event));\n            } else {\n                $(window).off(Event.RESIZE);\n            }\n        }\n\n        _hideLayer() {\n            this._element.style.display = 'none';\n            this._element.setAttribute('aria-hidden', true);\n            this._isTransitioning = false;\n            this._showBackdrop(() => {\n                if (this._config.fixed) {\n                    $(document.body).removeClass(ClassName.OPEN);\n                }\n                this._resetAdjustments();\n                this._resetScrollbar();\n                $(this._element).trigger(Event.HIDDEN);\n            });\n        }\n\n        _removeBackdrop() {\n            if (this._backdrop) {\n                $(this._backdrop).remove();\n                this._backdrop = null;\n            }\n        }\n\n        _showBackdrop(callback) {\n            const animate = $(this._element).hasClass(ClassName.FADE)\n                ? ClassName.FADE : '';\n\n            if (this._isShown && this._config.backdrop) {\n                this._backdrop = document.createElement('div');\n                this._backdrop.className = ClassName.BACKDROP;\n\n                if (animate) {\n                    $(this._backdrop).addClass(animate);\n                }\n\n                $(this._backdrop).appendTo(document.body).addClass('tui');\n\n                $(this._backdrop).on(Event.CLICK_DISMISS, (event) => {\n                    if (event.target !== event.currentTarget) {\n                        return;\n                    }\n                    if (this._config.backdrop === 'static') {\n                        this._element.focus();\n                    } else {\n                        this.hide();\n                    }\n                });\n\n                if (animate) {\n                    Util.reflow(this._backdrop);\n                }\n\n                $(this._backdrop).addClass(ClassName.SHOW);\n\n                if (!callback) {\n                    return;\n                }\n\n                if (!animate) {\n                    callback();\n                    return;\n                }\n\n                const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n\n                $(this._backdrop)\n                    .one(Util.TRANSITION_END, callback)\n                    .emulateTransitionEnd(backdropTransitionDuration);\n            } else if (!this._isShown && this._backdrop) {\n                $(this._backdrop).removeClass(ClassName.SHOW);\n\n                const callbackRemove = () => {\n                    this._removeBackdrop();\n                    if (callback) {\n                        callback();\n                    }\n                };\n\n                if ($(this._element).hasClass(ClassName.FADE)) {\n                    const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n\n                    $(this._backdrop)\n                        .one(Util.TRANSITION_END, callbackRemove)\n                        .emulateTransitionEnd(backdropTransitionDuration);\n                } else {\n                    callbackRemove();\n                }\n            } else if (callback) {\n                callback();\n            }\n        }\n\n        // ----------------------------------------------------------------------\n        // the following methods are used to handle overflowing modals\n        // todo (fat): these should probably be refactored out of modal.js\n        // ----------------------------------------------------------------------\n\n        _adjustLayer() {\n            const isModalOverflowing =\n                this._element.scrollHeight > document.documentElement.clientHeight;\n\n            if (!this._isBodyOverflowing && isModalOverflowing) {\n                this._element.style.paddingLeft = `${this._scrollbarWidth}px`;\n            }\n\n            if (this._isBodyOverflowing && !isModalOverflowing) {\n                this._element.style.paddingRight = `${this._scrollbarWidth}px`;\n            }\n\n            this._getPlacement();\n        }\n\n        _resetAdjustments() {\n            this._element.style.paddingLeft = '';\n            this._element.style.paddingRight = '';\n        }\n\n        _checkScrollbar() {\n            const rect = document.body.getBoundingClientRect();\n            this._isBodyOverflowing = rect.left + rect.right < window.innerWidth;\n            this._scrollbarWidth = this._getScrollbarWidth();\n        }\n\n        _setScrollbar() {\n            if (this._isBodyOverflowing) {\n                // Note: DOMNode.style.paddingRight returns the actual value or '' if not set\n                //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set\n\n                // Adjust fixed content padding\n                $(Selector.FIXED_CONTENT).each((index, element) => {\n                    const actualPadding = $(element)[0].style.paddingRight;\n                    const calculatedPadding = $(element).css('padding-right');\n                    $(element).data('padding-right', actualPadding).css('padding-right', `${parseFloat(calculatedPadding) + this._scrollbarWidth}px`);\n                });\n\n                // Adjust sticky content margin\n                $(Selector.STICKY_CONTENT).each((index, element) => {\n                    const actualMargin = $(element)[0].style.marginRight;\n                    const calculatedMargin = $(element).css('margin-right');\n                    $(element).data('margin-right', actualMargin).css('margin-right', `${parseFloat(calculatedMargin) - this._scrollbarWidth}px`);\n                });\n\n                // Adjust navbar-toggler margin\n                $(Selector.NAVBAR_TOGGLER).each((index, element) => {\n                    const actualMargin = $(element)[0].style.marginRight;\n                    const calculatedMargin = $(element).css('margin-right');\n                    $(element).data('margin-right', actualMargin).css('margin-right', `${parseFloat(calculatedMargin) + this._scrollbarWidth}px`);\n                });\n\n                // Adjust body padding\n                const actualPadding = document.body.style.paddingRight;\n                const calculatedPadding = $(document.body).css('padding-right');\n                $(document.body).data('padding-right', actualPadding).css('padding-right', `${parseFloat(calculatedPadding) + this._scrollbarWidth}px`);\n            }\n        }\n\n        _resetScrollbar() {\n            // Restore fixed content padding\n            $(Selector.FIXED_CONTENT).each((index, element) => {\n                const padding = $(element).data('padding-right');\n                if (typeof padding !== 'undefined') {\n                    $(element).css('padding-right', padding).removeData('padding-right');\n                }\n            });\n\n            // Restore sticky content and navbar-toggler margin\n            $(`${Selector.STICKY_CONTENT}, ${Selector.NAVBAR_TOGGLER}`).each((index, element) => {\n                const margin = $(element).data('margin-right');\n                if (typeof margin !== 'undefined') {\n                    $(element).css('margin-right', margin).removeData('margin-right');\n                }\n            });\n\n            // Restore body padding\n            const padding = $(document.body).data('padding-right');\n            if (typeof padding !== 'undefined') {\n                $(document.body).css('padding-right', padding).removeData('padding-right');\n            }\n        }\n\n        _getScrollbarWidth() { // thx d.walsh\n            const scrollDiv = document.createElement('div');\n            scrollDiv.className = ClassName.SCROLLBAR_MEASURER;\n            document.body.appendChild(scrollDiv);\n            const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n            document.body.removeChild(scrollDiv);\n            return scrollbarWidth;\n        }\n\n\n        // Static\n\n        static _jQueryInterface(config, relatedTarget) {\n            return this.each(function () {\n                let data = $(this).data(DATA_KEY);\n                const _config = {\n                    ...Layer.Default,\n                    ...$(this).data(),\n                    ...typeof config === 'object' && config\n                };\n\n                if (!data) {\n                    data = new Layer(this, _config);\n                    $(this).data(DATA_KEY, data);\n                }\n\n                if (typeof config === 'string') {\n                    if (typeof data[config] === 'undefined') {\n                        throw new TypeError(`No method named \"${config}\"`);\n                    }\n                    data[config](relatedTarget);\n                } else if (_config.show) {\n                    data.show(relatedTarget);\n                }\n            })\n        }\n    }\n\n\n\n    /**\n     * ------------------------------------------------------------------------\n     * Data Api implementation\n     * ------------------------------------------------------------------------\n     */\n\n    $(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n        let target;\n        const selector = Util.getSelectorFromElement(this);\n\n        if (selector) {\n            target = $(selector)[0];\n        }\n        if (!target) {\n            target = document.createElement('div');\n            target.className = 'layer';\n            $(target)\n                .appendTo(document.body)\n                .addClass('tui')\n                .addClass('auto-generated-layer');\n        }\n\n        const config = $(target).data(DATA_KEY)\n            ? 'toggle' : {\n                ...$(target).data(),\n                ...$(this).data()\n            };\n\n        if (this.tagName === 'A' || this.tagName === 'AREA') {\n            event.preventDefault();\n        }\n\n        const $target = $(target).one(Event.SHOW, (showEvent) => {\n            if (showEvent.isDefaultPrevented()) {\n                // Only register focus restorer if layer will actually get shown\n                return;\n            }\n\n            $target.one(Event.HIDDEN, () => {\n                if ($(this).is(':visible')) {\n                    this.focus();\n                }\n            })\n        });\n\n        Layer._jQueryInterface.call($(target), config, this);\n    });\n\n    // remove ajax content and remove cache on modal closed\n    $(document).on('hidden.tui.layer', '.layer:not(.layer-cached)', function () {\n        $(this).removeData(DATA_KEY);\n    });\n    $(document).on('hidden.tui.layer', '.auto-generated-layer', function () {\n        $(this).removeData(DATA_KEY);\n        $(this).remove();\n    });\n\n    /**\n     * ------------------------------------------------------------------------\n     * jQuery\n     * ------------------------------------------------------------------------\n     */\n\n    $.fn[NAME] = Layer._jQueryInterface;\n    $.fn[NAME].Constructor = Layer;\n    $.fn[NAME].noConflict = function () {\n        $.fn[NAME] = JQUERY_NO_CONFLICT;\n        return Layer._jQueryInterface;\n    };\n\n    return Layer;\n})($);\n\nexport default Layer;"]}